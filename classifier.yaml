!obj:pylearn2.train.Train {
    "dataset": !pkl: "${PYLEARN2_DATA_PATH}/sergent/train.pkl",
    "model": !obj:pylearn2.models.mlp.MLP {
        "batch_size": 16,
        "layers": [
             !obj:pylearn2.models.mlp.PretrainedLayer {
                 "layer_name": 'h1',
                 "layer_content": !pkl: "%(autoencoder_path)s",
             },
             !obj:pylearn2.models.mlp.Sigmoid {
                 "layer_name": 'h2',
                 "dim": 10,
                 "irange": .005
             },
             !obj:pylearn2.models.mlp.Sigmoid {
                 "layer_name": 'y',
                 "dim": 1,
                 "irange": .005
             }
            ],
        "nvis": 1024
    },
    "algorithm": !obj:pylearn2.training_algorithms.sgd.SGD {
        "learning_rate": .2,
        "learning_rule": !obj:pylearn2.training_algorithms.learning_rule.Momentum {
            "init_momentum": .5,
        },
        "monitoring_dataset": {
            'monitor'  : !pkl: "${PYLEARN2_DATA_PATH}/sergent/train.pkl",
        },        
        "cost": !obj:pylearn2.costs.mlp.Default {},
        "termination_criterion": !obj:pylearn2.termination_criteria.And {
            "criteria": [
                !obj:pylearn2.termination_criteria.EpochCounter {
                    "max_epochs": 500 
                }
            ]
        },
    },
    "save_path": '%(save_path)s',
    "save_freq": 500
}
